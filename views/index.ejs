<%- include("partials/header") -%>

<title>write.it</title>
</head>

<body>

  <div class="container-fluid">
    <nav class="navbar navbar-expand-lg navbar-dark">
      <a class="navbar-brand" href="/">
        <img src="/media/logo.png" width="60" height="65" class="d-inline-block align-top" alt="write-it-logo">
        write.it
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/compose">Compose</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/about">About</a>
          </li>
        </ul>
      </div>
    </nav>
  </div>

  <section class="hero">
    <div class="left">
      <h1><span class="small">Got something?</span> <span class="change-landingpage"></span></h1>
      <h3>Get right to the good stuffs.</h3>
      <button type="button" class="btn compose-bt btn-lg" name="button"><a href="/compose">Compose</a></button>
    </div>
    <div class="right">
      <img src="/media/bck.png" class="bck" alt="background-png">
    </div>


    <% if(fetchPostErr == false) { %>
      <% if(posts == "") { %>
        <h3 class="" style="min-width: 100%; margin-top: 5%; transform: translateX(45%); text-align: center !important; color: #00ADB5">No posts present!</h3>
      <% } %>


    <div class="graphics">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 320">
        <path fill="#eeeeee" fill-opacity="1"
          d="M0,160L40,176C80,192,160,224,240,229.3C320,235,400,213,480,181.3C560,149,640,107,720,101.3C800,96,880,128,960,165.3C1040,203,1120,245,1200,224C1280,203,1360,117,1400,74.7L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z">
        </path>
      </svg>
    </div>
  </section>

  <section class="updates">

    <h3>Here are some of our latest <span class="grad">posts.</span></h3>
    <div class="posts">
      <div class="row">
        <% posts.forEach(function(post){ %>
        <div data-aos="fade-up" data-aos-duration="600" class="post col-lg-12">
          <h3 class="post-title"><%=post.title%></h3>
          <% if(post.content.length > 120){ %>
            <p><%= post.content.substring(0, 120)%> <a class="more" href="/post/<%= post._id%>">... Read more</a></p>
          <% } else { %>
            <p><%= post.content%></p>
          <% } %>
        </div>
        <% }); %>
      </div>
    </div>
  </section>

  <%  } else { %>
  </section>
  <section class="err-sec">
    <h3 class="err-txt">Error while fetching the posts.</h3>
    <h3 class="err-txt">Refresh to try again!</h3>
  </section>
  <% } %>


  <%- include("partials/footer") -%>
